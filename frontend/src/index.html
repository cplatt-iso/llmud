<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Unholy MUD of Tron & Allen1</title>
    <style>
        body {
            background-color: #000;
            color: #00ff00;
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            min-height: 100vh;
            padding: 10px;
            box-sizing: border-box;
        }

        .header-text {
            text-align: center;
            margin-bottom: 20px; /* Increased space a bit */
        }

        .header-text h1 {
            margin: 0 0 5px 0;
            font-size: 1.8em;
            line-height: 1.2; /* Adjusted for multi-line title */
        }

        .header-text p {
            margin: 0;
            font-size: 0.9em;
            color: #00cc00;
        }

        /* NEW WRAPPER FOR MUD AND MAP */
        .game-area-wrapper {
            display: flex;        
            flex-direction: row;  
            align-items: flex-start; 
            width: 100%; /* Allow it to take full width if needed */
            max-width: 1200px; /* Example: MUD (900) + Map (250) + Spacing (50) */
            /* margin: 0 auto; /* Uncomment to center the whole game area if body isn't doing it */
        }

        .mud-container {
            /* flex-grow: 1; /* Allow mud-container to take up remaining space if map has fixed width */
            /* Or set a specific width/max-width */
            width: 100%; 
            max-width: 900px; 
            display: flex;
            flex-direction: column;
            border: 1px solid #005500;
            /* position: relative; /* No longer needed for map */
        }

        .terminal-output {
            flex-grow: 1;
            height: 70vh; /* Adjusted viewport height slightly */
            overflow-y: scroll;
            background-color: #030303;
            padding: 10px;
            box-sizing: border-box;
            white-space: pre-wrap;
            line-height: 1.4;
            border-bottom: 1px solid #005500;
        }

        .exits-bar {
            background-color: #050505;
            padding: 5px 10px;
            color: #00ffff;
            font-size: 0.9em;
            border-bottom: 1px solid #005500;
            min-height: 1.5em; 
            white-space: nowrap;
            overflow-x: auto;
        }

        .terminal-input-line {
            display: flex;
            align-items: center;
            background-color: #030303;
            padding: 8px 10px;
        }

        #prompt-text {
            margin-right: 8px;
            color: #00dd00;
        }

        .terminal-input {
            scrollbar-width: thin;
            scrollbar-color: #005500 #080808;
            flex-grow: 1;
            background-color: transparent;
            border: none;
            color: #00ff00;
            font-family: inherit;
            font-size: 1em;
            outline: none;
            padding: 0;
        }
        
        /* Scrollbar styling for terminal-output */
        .terminal-output::-webkit-scrollbar { width: 10px; height: 10px; }
        .terminal-output::-webkit-scrollbar-track { background: #080808; }
        .terminal-output::-webkit-scrollbar-thumb { background-color: #005500; border-radius: 5px; border: 2px solid #030303; }
        .terminal-output::-webkit-scrollbar-thumb:hover { background-color: #007700; }
        .terminal-output::-webkit-scrollbar-corner { background: #030303; }


        /* Map Viewport Styling */
        #map-viewport {
            width: 250px; 
            height: 250px; /* Made it square, adjust as desired */
            border: 1px solid #00cc00; 
            background-color: #080808; 
            overflow: hidden; 
            display: none; /* JS will control this */
            box-shadow: 0 0 10px #00cc00;
            margin-left: 15px; /* Space between MUD container and map */
            /* flex-shrink: 0; /* Prevent map from shrinking if .mud-container wants all space */
        }

        /* Styling for character lists in terminal output */
        .char-list-item { margin-left: 20px; }
        .char-list-item .char-index { color: #ffff00; }
        .char-list-item .char-name { color: #00ff00; }
        .char-list-item .char-class { color: #00aaaa; }

        /* Styling for room name in terminal output */
        .room-name-header { color: #ffff00; font-weight: bold; margin-top: 1em; margin-bottom: 0.5em; }
        .error-message-inline { color: #ff4444; font-style: italic; }
        .game-message { color: #cccccc; display: block; }

        /* Inventory Styles */
        .inv-slot-name { color: #00ffff; font-weight: bold; }
        .inv-backpack-number { color: #ffff00; }
        .inv-item-name { color: #00ff00; } /* Used for items and mobs */
        .inv-item-qty { color: #aaaaaa; }
        .inv-section-header { color: #f0f0f0; font-weight: bold; }
        
        /* Character Name style (if different from item name) */
        .char-name { color: #00ff00; } /* Or a distinct player color e.g. #99ff99 */

        /* Combat Specific Styles */
        .combat-success { color: #33cc33; font-weight: bold; }
        .combat-miss { color: #ff9933; }
        .combat-hit { color: #ffff00; font-weight: bold; }
        .combat-crit { color: #ff9900; font-weight: bold; }
        .combat-hp { color: #ffdddd; }
        .combat-death { color: #ff3333; font-weight: bold; font-style: italic; }
        .combat-hit-player { color: #ff6666; font-weight: bold; }
        .combat-crit-player { color: #cc0000; font-weight: bold; }

        .ooc-chat-message {
            color: #9999ff; /* Example: Light purple for OOC */
            font-style: italic;
        }

    </style>
</head>

<body>
    <div class="header-text">
        <h1>Legend of the Solar Dragon's Tradewar<br>2002 Barrels of Food Fight<br>Over a Usurped Pit of Devastation (Alpha)</h1>
        <p>(UMGTWOTRDBSR_EUPFDX_TPSC for short, obviously)</p>
    </div>

    <!-- NEW WRAPPER FOR MUD AND MAP -->
    <div class="game-area-wrapper"> 
        <div class="mud-container">
            <!-- Main MUD interface elements -->
            <div id="output" class="terminal-output"></div>
            <div id="exits-display" class="exits-bar">Exits: (None)</div>
            <div id="input-prompt-line" class="terminal-input-line">
                <span id="prompt-text">> </span>
                <input type="text" id="commandInput" class="terminal-input" name="mud_command_line" autofocus autocomplete="off">
            </div>
        </div>

        <!-- MAP VIEWPORT IS NOW A SIBLING TO .mud-container, INSIDE THE WRAPPER -->
        <div id="map-viewport"> 
            <svg id="map-svg" width="100%" height="100%"></svg>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>